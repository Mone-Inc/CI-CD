# ============================================================
# EXEMPLO DE USO - NÃO USAR DIRETAMENTE
# ============================================================
# Este arquivo é um exemplo de como usar os workflows reutilizáveis
# no seu projeto TypeScript/NestJS.
#
# Copie este conteúdo para .github/workflows/ci.yml no seu projeto
# e ajuste os parâmetros conforme necessário.
# ============================================================

name: CI

on:
  push:
    branches: [main, develop]
  pull_request:
    branches: [main, develop]

jobs:
  # ============================================================
  # Opção 1: Usar o workflow completo de CI
  # ============================================================
  ci:
    uses: Mone-Inc/CI-CD/.github/workflows/typescript-ci.yml@main
    with:
      working-directory: '.'
      node-version: '20'
      run-tests: true
      run-build: true
      fail-on-warnings: false
      eslint-config: 'eslint.config.js'
      prettier-config: '.prettierrc'
      files-pattern: 'src/**/*.ts'

  # ============================================================
  # Opção 2: Usar apenas o workflow de lint (alternativa)
  # ============================================================
  # lint-only:
  #   uses: Mone-Inc/CI-CD/.github/workflows/typescript-lint.yml@main
  #   with:
  #     working-directory: '.'
  #     node-version: '20'
  #     auto-fix: false
  #     fail-on-warnings: false
  #     files-pattern: 'src/**/*.ts'

# ============================================================
# PARA TESTAR COM UMA BRANCH ESPECÍFICA DO CI-CD:
# ============================================================
# Substitua @main por @nome-da-branch, por exemplo:
#
#   uses: Mone-Inc/CI-CD/.github/workflows/typescript-ci.yml@feature/typescript-workflows
#
# Isso permite testar alterações nos workflows antes de mergear
# na branch principal.
# ============================================================
